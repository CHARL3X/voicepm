/* Constellation Output Component
   Implements the Constellation Format visualization pattern
   for structured meeting insights and relationships */

.constellation-container {
  --constellation-primary: var(--primary-color);
  --constellation-secondary: var(--secondary-color);
  --constellation-bg: var(--surface-color);
  --constellation-text: var(--text-primary);
  --constellation-text-secondary: var(--text-secondary);
  --constellation-border: var(--border-color);
  --constellation-highlight: var(--accent-color);
  
  display: grid;
  gap: var(--spacing-6);
  padding: var(--spacing-6);
  background: var(--constellation-bg);
  border-radius: var(--radius-lg);
  transition: var(--transition-all);
}

/* Header Section */
.constellation-header {
  display: flex;
  align-items: center;
  gap: var(--spacing-4);
  margin-bottom: var(--spacing-6);
}

.constellation-title {
  font-size: var(--text-xl);
  font-weight: var(--font-bold);
  color: var(--constellation-text);
}

.constellation-badge {
  padding: var(--spacing-1) var(--spacing-3);
  background: color-mix(in srgb, var(--constellation-primary) 20%, transparent);
  border-radius: var(--radius-full);
  font-size: var(--text-xs);
  color: var(--constellation-primary);
}

.constellation-summary {
  font-style: italic;
  color: var(--constellation-text-secondary);
  font-size: var(--text-sm);
}

/* Central Star (Major Insight) */
.constellation-star {
  position: relative;
  padding: var(--spacing-6);
  background: color-mix(in srgb, var(--constellation-primary) 5%, var(--constellation-bg));
  border: 1px solid color-mix(in srgb, var(--constellation-primary) 20%, transparent);
  border-radius: var(--radius-lg);
  margin-bottom: var(--spacing-6);
}

.constellation-star::before {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at center, 
              color-mix(in srgb, var(--constellation-primary) 10%, transparent),
              transparent 70%);
  opacity: 0.5;
  pointer-events: none;
}

/* Orbital Insights */
.constellation-orbits {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: var(--spacing-4);
}

.constellation-orbit {
  padding: var(--spacing-4);
  background: color-mix(in srgb, var(--constellation-bg) 95%, var(--constellation-primary));
  border: 1px solid color-mix(in srgb, var(--constellation-primary) 10%, transparent);
  border-radius: var(--radius-md);
  transition: var(--transition-all);
}

.constellation-orbit:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
  border-color: color-mix(in srgb, var(--constellation-primary) 30%, transparent);
}

/* Timeline Markers */
.constellation-timeline {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: var(--spacing-4);
  margin-top: var(--spacing-6);
}

.timeline-marker {
  padding: var(--spacing-3);
  background: color-mix(in srgb, var(--constellation-bg) 97%, var(--constellation-primary));
  border: 1px solid color-mix(in srgb, var(--constellation-primary) 10%, transparent);
  border-radius: var(--radius-md);
  text-align: center;
}

.timeline-date {
  font-weight: var(--font-bold);
  color: var(--constellation-primary);
  font-size: var(--text-sm);
  margin-bottom: var(--spacing-1);
}

.timeline-title {
  color: var(--constellation-text-secondary);
  font-size: var(--text-xs);
}

/* Support Elements */
.constellation-support {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: var(--spacing-6);
  margin-top: var(--spacing-6);
}

.support-section {
  padding: var(--spacing-4);
  background: color-mix(in srgb, var(--constellation-bg) 98%, var(--constellation-secondary));
  border-radius: var(--radius-lg);
}

.support-header {
  display: flex;
  align-items: center;
  gap: var(--spacing-3);
  margin-bottom: var(--spacing-4);
  color: var(--constellation-text);
  font-weight: var(--font-medium);
}

.support-list {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-3);
}

.support-item {
  display: flex;
  align-items: center;
  gap: var(--spacing-3);
  padding: var(--spacing-3);
  background: var(--constellation-bg);
  border: 1px solid color-mix(in srgb, var(--constellation-secondary) 10%, transparent);
  border-radius: var(--radius-md);
}

.support-indicator {
  width: 8px;
  height: 8px;
  border-radius: var(--radius-full);
  background: var(--constellation-secondary);
}

/* Pattern Recognition Indicators */
.pattern-sentiment {
  padding: var(--spacing-1) var(--spacing-2);
  border-radius: var(--radius-sm);
  font-size: var(--text-xs);
  margin-left: var(--spacing-2);
}

.pattern-sentiment[data-sentiment="positive"] {
  background: color-mix(in srgb, var(--success-color) 10%, transparent);
  color: var(--success-color);
}

.pattern-sentiment[data-sentiment="neutral"] {
  background: color-mix(in srgb, var(--warning-color) 10%, transparent);
  color: var(--warning-color);
}

.pattern-sentiment[data-sentiment="negative"] {
  background: color-mix(in srgb, var(--error-color) 10%, transparent);
  color: var(--error-color);
}

/* Dependency Indicators */
.dependency-marker {
  display: inline-flex;
  align-items: center;
  gap: var(--spacing-1);
  padding: var(--spacing-1) var(--spacing-2);
  border-radius: var(--radius-sm);
  font-size: var(--text-xs);
  background: color-mix(in srgb, var(--constellation-primary) 10%, transparent);
  color: var(--constellation-primary);
  margin-left: var(--spacing-2);
}

/* Priority Indicators */
.priority-indicator {
  display: inline-flex;
  align-items: center;
  gap: var(--spacing-1);
  margin-left: var(--spacing-2);
}

.priority-indicator[data-priority="high"] {
  color: var(--error-color);
}

.priority-indicator[data-priority="medium"] {
  color: var(--warning-color);
}

.priority-indicator[data-priority="low"] {
  color: var(--success-color);
}

/* Responsive Adjustments */
@media (max-width: 768px) {
  .constellation-container {
    padding: var(--spacing-4);
  }

  .constellation-orbits,
  .constellation-support {
    grid-template-columns: 1fr;
  }

  .constellation-timeline {
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  }
}

/* Animation States */
@keyframes pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.05); }
  100% { transform: scale(1); }
}

.constellation-star[data-active="true"] {
  animation: pulse 2s infinite;
}

/* Dark Mode Adjustments */
@media (prefers-color-scheme: dark) {
  .constellation-container {
    --constellation-bg: var(--surface-dark);
    --constellation-text: var(--text-dark);
    --constellation-text-secondary: var(--text-dark-secondary);
    --constellation-border: var(--border-dark);
  }
}
